<?xml version="1.0" encoding="utf-8"?>
<openerp>
	<data>
		<!-- Lesson Form view  -->
		<record id="view_lessonmanager_lesson_tree" model="ir.ui.view">
            <field name="name">lesson.course.tree</field>
            <field name="model">lesson.course</field>
			<field name="type">form</field>
            <field name="arch" type="xml">
				<tree string="Lesson">
					<field name="name"/>
					<field name="description"/>
				</tree>
            </field>
		</record>

		<record id="view_lesson_grade_form" model="ir.ui.view">
			<field name="name">lesson.grade.form</field>
			<field name="model">lesson.grade</field>
			<field name="type">form</field>
			<field name="arch" type="xml">
				<tree string="Grades">
					<field name="name"/>
				</tree>
			</field>
		</record>	

		<record id="view_lesson_student_form" model="ir.ui.view">
			<field name="name">lesson.student.form</field>
			<field name="model">lesson.student</field>
			<field name="type">form</field>
			<field name="arch" type="xml">
				<tree string="Students">
					<field name="name"/>
					<field name="age"/>
					<field name="status"/>
					<field name="country"/>
					<field name="address"/>
				</tree>
			</field>
		</record>
		
		<record id="view_lesson_book_tree" model="ir.ui.view">
			<field name="name">lesson.book.form</field>
			<field name="model">lesson.book</field>
			<field name="type">tree</field>
			<field name="arch" type="xml">
				<tree string="Books" version="7.0">
					<field name="name"/>
					<field name="category"/>
					<field name="description"/>
					<field name="state"/>
				</tree>
			</field>
		</record>

		<record id="view_lesson_book_form" model="ir.ui.view">
			<field name="name">lesson.book.form</field>
			<field name="model">lesson.book</field>
			<field name="type">form</field>
			<field name="arch" type="xml">
				<form string="Books" version="7.0">
					<header>
						<button name="book_open" string="Open" states="draft" class="oe_highlight"/>
						<button name="book_close" string="Accept" states="open"/>
						<button name="book_cancel" string="Refuse" states="open" />						
						<field name="state" widget="statusbar" statusbar_visible="draft,open,close"/>
					</header>
					<sheet>
						<field name="name"/>
						<field name="category"/>
						<field name="description"/>	
					</sheet>					
				</form>
			</field>
		</record>

		<record id="view_lesson_book_graph" model="ir.ui.view">
			<field name="name">lesson.book.graph</field>
			<field name="model">lesson.book</field>
			<field name="type">graph</field>
			<field name="arch" type="xml">
				<graph string="Group by category">
					<field name="category" group="True"/>
					<field name="name" operator="+"/>
				</graph>
			</field>
		</record>

		<record id="view_lesson_book_search" model="ir.ui.view">
			<field name="name">lesson.book.search</field>
			<field name="model">lesson.book</field>
			<field name="type">search</field>
			<field name="arch" type="xml">
				<search string="Book Search" >
					<group expand="1" string="Group By">
						<filter string="Books" domain="[]" context="{'group_by':'state'}" />
					</group>
				</search>
			</field>
		</record>

		<!-- author view start-->
		<record id="view_lesson_author_search" model="ir.ui.view">
			<field name="name">lesson.author.search</field>
			<field name="model">lesson.author</field>
			<field name="type">search</field>
			<field name="arch" type="xml">
				<search string="Author search">
					<group expand="1" string="Group By">
						<filter string="Auhtors" icon="openerp-project" domain="[]" context="{'group_by':'country'}"/>
					</group>
					<group expand="1" string="Filter">
						<filter string="China" icon="openerp-project" domain="[('country','=','中国')]"/>
						<filter string="Young Man" icon="terp-projet" domain="[('age','&lt;',30')]"/>
					</group>
					<field name="name" string="Author name"/>
					<field name="age" string="Author age"/>
					<field name="address" string="Address"/>
				</search>
			</field>
		</record>

		<record id="view_lesson_author_form" model="ir.ui.view">
			<field name="name">lesson.author.tree</field>
			<field name="model">lesson.author</field>
			<field name="type">form</field>
			<field name="arch" type="xml">
				<form string="Author" version="7.0">
					<header>
						<h1>This is a header tag!</h1>
					</header>
					<group colspan="4" col="4">
						<field name="name"/> 
						<field name="age"/>
						<separator string="Contact Infomation" colspan="4"/>
						<field name="country"/>
						<field name="address"/>
						<field name="blog" required="True" widget="url"  on_change="author_blog_change(blog)"/>
					</group>
				</form>
			</field>
		</record>
		
		<record id="view_lesson_author_tree" model="ir.ui.view">
			<field name="name">lesson.author.tree</field>
			<field name="model">lesson.author</field>
			<field name="arch" type="xml">
				<tree string="Author" version="7.0">
						<field name="name"/>
						<field name="age"/>
						<field name="country"/>
						<field name="address"/>
				</tree>
			</field>
		</record>


		<record model="ir.ui.view" id="view_lesson_author_country_graph">
			<field name="name">lesson.author.country.graph</field>	
			<field name="model">lesson.author</field>
			<field name="type">graph</field>
			<field name="arch" type="xml">
				<graph string="Authors of country">
					<field name="country" group="True"/>
					<field name="name" operator="+"/>
				</graph>
			</field>
		</record>
		<!-- author view end -->

		<record id="view_lesson_student_search" model="ir.ui.view">
			<field name="name">lesson.student.search</field>
			<field name="model">lesson.student</field>
			<field name="type">search</field>
			<field name="arch" type="xml">
				<search string="Search">
					<field name="name" select="1"/>
					<field name="age" select="1"/>
					<field name="country" select="1"/>
				</search>	
			</field>
		</record>>

		<!-- Show lesson form view action -->
		<record model="ir.actions.act_window" id="action_lesson_show_course_tree">
			<field name="res_model">lesson.course</field>
			<field name="domain">[]</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>
			<field name="help" type="html">
				<p class="oe_view_nocontent_create">
					Click to define a new course
				</p>
				<p>
					Use course to define lesson courses.Course can't be used by teacher and students.
				</p>
				<p>
					This is the lastest line ~
				</p>
			</field>
		</record>

		<record model="ir.actions.act_window" id="action_lesson_grade_show_form">
			<field name="res_model">lesson.grade</field>
			<field name="domain">[]</field>
		</record>

		<record model="ir.actions.act_window" id="action_lesson_author_show_tree">
			<field name="name">Authors</field>
			<field name="res_model">lesson.author</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,graph,form,calendar</field>
			<field name="search_view_id" ref="view_lesson_author_search"/>
		</record>

		<record model="ir.actions.act_window" id="action_lesson_book_show_form">
			<field name="name">Books</field>
			<field name="res_model">lesson.book</field>
			<field name="domain">[]</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,graph,form</field>
		</record>

		<record model="ir.actions.act_window" id="action_lesson_student_show_form">
			<field name="res_model">lesson.student</field>
			<field name="domain">[]</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>
			<!--<field name="search_view_id" ref="view_lesson_student_search"></field>-->
		</record>
		<!-- Menu items -->
		<menuitem name="Lesson Manager" id="menu_lessonmanager"/>
		<menuitem name="Lessons" id="menu_lesson_course" parent="menu_lessonmanager" action="action_lesson_show_course_tree" />
		<menuitem name="Lessons" id="menu_lesson_course_show_tree" parent="menu_lesson_course" action="action_lesson_show_course_tree" />
		<menuitem name="Grades" id="menu_lesson_grade_show_form" parent="menu_lesson_course" action="action_lesson_grade_show_form"/>
		<menuitem name="Students" id="menu_lesson_student_show_form" parent="menu_lesson_course" action="action_lesson_student_show_form"/>
		<menuitem name="Books" id="menu_lesson_book_show_form" parent="menu_lesson_course" action="action_lesson_book_show_form"/>
		<menuitem name="Authors" id="menu_lesson_author_form" parent="menu_lesson_course" action="action_lesson_author_show_tree"/>

		<!-- shortcut -->
		<!-- <shortcut name="Author list" model="lesson.author" menu="menu_lesson_author_form" />-->
	</data>
</openerp>
