<?xml version="1.0" encoding="utf-8" ?>
<openerp>
    <data>
		<record model="ir.ui.view" id="view_tms_store_filter">
			<field name="name">tms.store.filter</field>
			<field name="model">tms.store</field>
			<field name="arch" type="xml">
				<search string="Search Sotre">
					<field name="storenum"/>
					<field name="name"/>
					<field name="province_id"/>
					<group expand="0" string="Group By...">
						<filter string="Province" domain="[]" context="{'group_by':'province_id'}"/>
					</group>
				</search>	
			</field>
		</record>
        <record model="ir.ui.view" id="view_tms_store_tree">
            <field name="name">tms.store.tree</field>
            <field name="model">tms.store</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Stores">
                    <field name="province_id" width="50"/>
                    <field name="name"/>
                    <field name="storenum"/>
                    <field name="contactperson" />
                    <field name="address"/>
                    <field name="telephone" />
                    <field name="mobile"/>
					<field name="remark"/>
                </tree>
            </field>
        </record>
        <record model="ir.ui.view" id="view_tms_store_form">
            <field name="name">tms.store.form</field>
            <field name="model">tms.store</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Store" version="7.0">
                    <sheet>
                        <group col="4">
                            <field name="storenum"/>
                            <field name="province_id" widget="selection"/>
                        </group>
                        <group col="4">
                            <field name="name" colspan="4"/>
                            <field name="address" colspan="4"/>
                        </group>
                        <group col="4" string="Contact Information">
                            <field name="contactperson"/>
                            <field name="telephone"/>
                            <field name="mobile"/>
                        </group>
                        <group col="6" string="Network Information">
                            <field name="netusername" colspan="3"/>
                            <field name="netuserpass" colspan="3"/>
                            <field name="dynamicdomain" colspan="3"/>
                            <field name="dynamicdomainpass" colspan="3"/>
                            <field name="dynamicdomainaddress" colspan="6"/>
							<field name="peanutdomain" colspan="3"/>
							<field name="peanutuserpass" colspan="3"/>
							<field name="peanutdomainaddress" colspan="6"/>
                            <field name="peanutvalidemail" colspan="3" widget="email"/>
                            <field name="peanutemailpass" colspan="3"/>
                        </group>
						<group col="4" string="POSCDK">
                            <field name="poscdk" nolabel="1" colspan="4"/>
						</group>
						<group col="4" string="Remark">
                       		<field name="remark" placeholder="Remark" colspan="4" nolabel="1"/>
						</group>
                    </sheet>
                </form>
            </field>
        </record>
        <record model="ir.actions.act_window" id="action_tms_store_tree_show">
            <field name="name">Stores</field>
            <field name="res_model">tms.store</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <!--<field name="context">{"search_default_groupby_category" : True,}</field>-->
        </record>
		<record model="ir.ui.view" id="view_tms_applyinfo_filter">
			<field name="name">tms.applyinfo.filter</field>
			<field name="model">tms.applyinfo</field>
			<field name="arch" type="xml">
				<search string="Search Sotre">
					<field name="storenum"/>
					<field name="processid"/>
					<field name="store_id"/>
					<field name="province"/>
					<group expand="0" string="Group By...">
						<filter string="Province" domain="[]" context="{'group_by':'province'}"/>
					</group>
				</search>	
			</field>
		</record>
        <record model="ir.ui.view" id="view_tms_applyinfo_tree">
            <field name="name">tms.applyinfo.tree</field>
            <field name="model">tms.applyinfo</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Applyinfos">
                    <field name="processid"/>
                    <field name="province"/>
                    <field name="store_id"/>
                    <field name="storenum"/>
                    <field name="telephone"/>
                    <field name="content"/>
					<field name="state"/>
					<field name="user_id"/>
                    <field name="create_time"/>
					<button name="unlink" type="object" string="Remove" states="unreceived,draft" icon="terp-tms-remove" groups="tms.group_tms_applyinfo_finance,tms.group_tms_applyinfo_factory"/> 
					<button name="applyinfo_hasreceived" type="object" string="Received" states="unreceived" groups="tms.group_tms_applyinfo_finance" icon="terp-tms-receive"/> 
					<button name="applyinfo_hasdone" type="object" string="HasDone" states="hasreceived" groups="tms.group_tms_applyinfo_finance" icon="terp-tms-done"/> 
					<button name="applyinfo_hasconfirm" type="object" string="Confirm" states="hasdone" groups="tms.group_tms_applyinfo_factory" icon="terp-tms-confirm"/> 
                </tree>
            </field>
        </record>
        <record model="ir.ui.view" id="view_tms_applyinfo_form">
            <field name="name">tms.applyinfo.form</field>
            <field name="model">tms.applyinfo</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Applyinfo" version="7.0">
                    <sheet>
                        <group col="4">
                            <field name="state" invisible="1"/>
                            <button name="btn_received" string="Received" states="unreceived" groups="tms.group_tms_applyinfo_finance"/>
                            <button name="btn_hasdone" string ="Done" states="hasreceived" groups="tms.group_tms_applyinfo_finance" />
                            <button name="btn_hascofirm" string="Cofirm" states="hasdone" groups="tms.group_tms_applyinfo_factory"/>
                        </group>
                        <group col="4" string="Base Info">
							<field name="store_id" on_change="on_change_store(store_id)" context="{'display_widget':'dropdownlist'}"/>
                            <field name="province"/>
                            <field name="storenum"/>
                            <field name="telephone"/>
                            <field name="contactperson"/>
                            <field name="mobile"/>
							<field name="address"/> 
							<field name="create_time" readonly="True"/>
                        </group>
                        <group col="4" string="Content">
							<field name="content" colspan="4"  nolabel="1" height="30" />
                        </group>
                        <field name="applyinfoitem_ids" states="hasreceived,hasdone,hasconfirm">
                            <tree version="7.0" editable="bottom">
                                <field name="name"/>
                                <field name="user_id"/>
                                <field name="create_time"/>
                            </tree>
                        </field>
                    </sheet>
                </form>
            </field>
        </record>
        <record model="ir.ui.view" id="view_tms_applyinfo_form_foraccount">
            <field name="name">tms.applyinfo.formforaccount</field>
            <field name="model">tms.applyinfo</field>
            <field name="type">form</field>
			<field name="inherit_id" ref="view_tms_applyinfo_form"/>
			<field name="groups_id" eval="[(6,0,[ref('tms.group_tms_applyinfo_factory')])]"/>
            <field name="arch" type="xml">
				<field name="store_id" position="attributes">
					<attribute name="attrs">{'readonly':[('state','not in',['draft','unreceived'])]}</attribute>
				</field>
				<!--<field name="province" position="attributes">
					<attribute name="attrs">{'readonly':[('state','not in',['draft','unreceived'])]}</attribute>
				</field>-->
				<field name="storenum" position="attributes">
					<attribute name="attrs">{'readonly':[('state','not in',['draft','unreceived'])]}</attribute>
				</field>
				<field name="telephone" position="attributes">
					<attribute name="attrs">{'readonly':[('state','not in',['draft','unreceived'])]}</attribute>
				</field>
				<field name="contactperson" position="attributes">
					<attribute name="attrs">{'readonly':[('state','not in',['draft','unreceived'])]}</attribute>
				</field>
				<field name="mobile" position="attributes">
					<attribute name="attrs">{'readonly':[('state','not in',['draft','unreceived'])]}</attribute>
				</field>
				<field name="address" position="attributes">
					<attribute name="attrs">{'readonly':[('state','not in',['draft','unreceived'])]}</attribute>
				</field>
				<field name="content" position="attributes">
					<attribute name="attrs">{'readonly':[('state','not in',['draft','unreceived'])]}</attribute>
				</field>
            </field>
        </record>

		<record model="ir.ui.view" id="view_tms_stopandmoveapplyinfo_filter">
			<field name="name">tms.stopandmoveapplyinfo.filter</field>
			<field name="model">tms.stopandmoveapplyinfo</field>
			<field name="arch" type="xml">
				<search string="Search Sotre">
					<field name="processid"/>
					<field name="storenum"/>
					<field name="store_id"/>
					<field name="province"/>
					<group expand="0" string="Group By...">
						<filter string="Province" domain="[]" context="{'group_by':'province'}"/>
					</group>
				</search>	
			</field>
		</record>
        <record model="ir.ui.view" id="view_tms_stopandmoveapplyinfo_tree">
            <field name="name">tms.stopandmoveapplyinfo.tree</field>
            <field name="model">tms.stopandmoveapplyinfo</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Stop And Move Applyinfo">
                    <field name="processid"/>
                    <field name="store_id"/>
                    <field name="storenum"/>
                    <field name="province"/>
					<!--<field name="contactperson"/>-->
					<field name="content" width="50" />
					<field name="applyinfotype"/>
					<field name="user_id"/>
					<field name="create_time"/>
					<button name="unlink" type="object" string="Remove" groups="tms.group_tms_applyinfo_finance,tms.group_tms_applyinfo_factory" icon="terp-tms-remove"/> 
                </tree>
            </field>
        </record>
        <record model="ir.ui.view" id="view_tms_stopandmoveapplyinfo_form">
            <field name="name">tms.stopandmoveapplyinfo.form</field>
            <field name="model">tms.stopandmoveapplyinfo</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Stop And Move Applyinfo" version="7.0">
                    <sheet>
                        <group col="4">
                            <field name="state" invisible="1"/>
                            <button name="btn_received" string="Received" states="unreceived" groups="tms.group_tms_applyinfo_finance"/>
                            <button name="btn_hasdone" string ="Done" states="hasreceived" groups="tms.group_tms_applyinfo_finance" />
                            <button name="btn_hascofirm" string="Cofirm" states="hasdone" groups="tms.group_tms_fee_factory"/>
                        </group>
                        <group col="4" string="Base Info">
							<field name="applyinfotype"/>
							<field name="store_id" context="{'display_widget':'dropdownlist'}" on_change="on_change_store(store_id)"/>
                            <field name="storenum"/>
                            <field name="province"/>
                            <field name="telephone"/>
                            <field name="contactperson"/>
                            <field name="mobile"/>
                            <field name="create_time" readonly="True"/>
						</group>
						<group colspan="4" col="4">
							<field name="address" colspan="4"/>
						</group>
                        <group col="4" string="Content">
                            <field name="content" colspan="4"  nolabel="1" />
                        </group>
						<!--<field name="applyinfoitem_ids" states="hasreceived,hasdone,hasconfirm">
                            <tree version="7.0" editable="bottom">
                                <field name="name"/>
                                <field name="user_id"/>
                                <field name="create_time"/>
                            </tree>
						</field>-->
                    </sheet>
                </form>
            </field>
        </record>
        <!-- feebase info start -->
		<record model="ir.ui.view" id="view_tms_feeforother_filter">
			<field name="name">tms.feeforother.filter</field>
			<field name="model">tms.feeforother</field>
			<field name="arch" type="xml">
				<search string="Search FeeForOther">
					<field name="storenum"/>
					<field name="store_id"/>
					<field name="province"/>
					<group expand="0" string="Group By...">
						<filter string="Province" domain="[]" context="{'group_by':'province'}"/>
						<filter string="State" domain="[]" context="{'group_by':'state'}"/>
					</group>
				</search>	
			</field>
		</record>
        <record model="ir.ui.view" id="view_tms_feeforother_tree">
            <field name="name">tms.feeforother.tree</field>
            <field name="model">tms.feeforother</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="FeeForOther Manager">
                    <field name="processid"/>
                    <field name="store_id" />
                    <field name="province"/>
                    <field name="storenum"/>
                    <field name="accountperiod"/>
                    <field name="feedate"/>
					<field name="payman" groups="tms.group_tms_fee_finance"/>
                    <field name="amount" sum="Amount" groups="tms.group_tms_fee_finance"/>
                    <field name="accountamount" sum="Account Amount" groups="tms.group_tms_fee_accout,tms.group_tms_fee_finance"/>
					<field name="state"/>
                    <field name="oanum"/>
                </tree>
            </field>
        </record>
        <record model="ir.ui.view" id="view_tms_feeforother_form">
            <field name="name">tms.feeforother.form</field>
            <field name="model">tms.feeforother</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="FeeForOther Manager" version="7.0">
                    <sheet string="FeeForOther">
                        <group col="4">
							<field name="store_id" context="{'display_widget':'dropdownlist'}" on_change="on_change_store(store_id)"/>
                            <field name="province"/>
                            <field name="storenum"/>
                            <field name="feedate"/>
                            <field name="payman" groups="tms.group_tms_fee_finance"/>
                            <field name="amount" groups="tms.group_tms_fee_finance"/>/>
                            <field name="accountamount"/>
                        </group>
                        <group col="4" string="Remark">
                            <field name="remark" colspan="4"  nolabel="1" />
                        </group>
                    </sheet>
                </form>
            </field>
		</record>
        <!-- feebase info start -->
        <record model="ir.ui.view" id="view_tms_feeforitservice_tree">
            <field name="name">tms.feeforitservice.tree</field>
            <field name="model">tms.feeforitservice</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="FeeForItService Manager">
                    <field name="processid"/>
                    <field name="store_id" />
                    <field name="province"/>
                    <field name="storenum"/>
                    <field name="accountperiod"/>
                    <field name="feedate"/>
                    <field name="amount" sum="Amount" groups="tms.group_tms_fee_finance"/>
                    <field name="accountamount" sum="Account Amount" />
                    <field name="payman" groups="tms.group_tms_fee_finance"/>
                    <field name="state"/>
                    <field name="oanum"/>
                </tree>
            </field>
        </record>
        <record model="ir.ui.view" id="view_tms_feeforitservice_form">
            <field name="name">tms.feeforitservice.form</field>
            <field name="model">tms.feeforitservice</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="FeeForItService Manager" version="7.0">
                    <sheet string="FeeForItService">
                        <group col="4">
							<field name="store_id" context="{'display_widget':'dropdownlist'}" on_change="on_change_store(store_id)"/>
                            <field name="province"/>
                            <field name="storenum"/>
                            <field name="feedate"/>
                            <field name="payman" groups="tms.group_tms_fee_finance"/>
                            <field name="amount" groups="tms.group_tms_fee_finance"/>
                            <field name="accountamount"/>
                        </group>
                        <group col="4" string="说明">
                            <field name="remark" colspan="4"  nolabel="1" />
                        </group>
                    </sheet>
                </form>
            </field>
        </record>
        <!-- feebase info start -->
		<record model="ir.ui.view" id="view_tms_feebase_filter">
			<field name="name">tms.feebase.filter</field>
			<field name="model">tms.feebase</field>
			<field name="arch" type="xml">
				<search string="Search FeeBase">
					<field name="storenum"/>
					<field name="store_id"/>
					<field name="oanum"/>
					<group expand="0" string="Group By...">
						<filter string="Province" domain="[]" context="{'group_by':'province'}"/>
					</group>
				</search>	
			</field>
		</record>
        <record model="ir.ui.view" id="view_tms_feebase_tree">
            <field name="name">tms.feebase.tree</field>
            <field name="model">tms.feebase</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="FeeBase Manager">
                    <field name="processid"/>
                    <field name="feedate"/>
                    <field name="province"/>
                    <field name="store_id" />
                    <field name="storenum"/>
                    <field name="remark"/>
                    <field name="amount" sum="Account" groups="tms.group_tms_fee_finance"/>
                    <field name="payman" groups="tms.group_tms_fee_finance"/>
                </tree>
            </field>
        </record>
        <record model="ir.ui.view" id="view_tms_feebase_form">
            <field name="name">tms.feebase.form</field>
            <field name="model">tms.feebase</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="FeeBase Manager" version="7.0">
                    <sheet string="Fee">
                        <group col="4" string="Base Info">
							<field name="store_id" context="{'display_widget':'dropdownlist'}" on_change="on_change_store(store_id)"/>
                            <field name="province"/>
                            <field name="storenum"/>
                            <field name="feedate"/>
                            <field name="accountperiod" colspan="4"/>
                            <field name="payman" colspan="4" groups="tms.group_tms_fee_finance"/>
							<field name="feecontent"/>
                            <field name="amount" groups="tms.group_tms_fee_finance"/>
							<!--<field name="accountamount"/>-->
                        </group>
                        <group col="4" string="Remark">
                            <field name="remark" colspan="4"  nolabel="1" />
                        </group>
                    </sheet>
                </form>
            </field>
        </record>
        <!-- feebase info start -->
		<record model="ir.ui.view" id="view_tms_feeforsend_filter">
			<field name="name">tms.feeforsend.filter</field>
			<field name="model">tms.feeforsend</field>
			<field name="arch" type="xml">
				<search string="Search FeeForSend">
					<field name="storenum"/>
					<field name="store_id"/>
					<field name="province"/>
					<field name="oanum"/>
					<group expand="0" string="Filter">
						<filter name="draft" string="Draft" domain="[('state','=','draft')]"/>
						<filter name="hasexported" string="Has Exported" domain="[('state','=','hasexported')]"/>
						<filter name="hasoa" string="Has Input OANum" domain="[('state','=','hasoa')]"/>
						<filter name="hasoa" string="Has Back" domain="[('state','=','hasback')]"/>
					</group>
					<group expand="0" string="Group By...">
						<filter name="groupby_province" string="Province" domain="[]" context="{'group_by':'province'}"/>
						<filter name="groupby_state" string="State" domain="[]" context="{'group_by':'state'}"/>
						<filter name="groupby_oanum" string="OANum" domain="[]" context="{'group_by':'oanum'}"/>
					</group>
				</search>	
			</field>
		</record>
        <record model="ir.ui.view" id="view_tms_feeforsend_tree">
            <field name="name">tms.feeforsend.tree</field>
            <field name="model">tms.feeforsend</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="FeeBases">
                    <field name="processid"/>
                    <field name="applyprocessid"/>
                    <field name="accountperiod"/>
                    <field name="province"/>
                    <field name="store_id" />
                    <field name="storenum"/>
                    <field name="sendproduct"/>
                    <field name="sendcompany"/>
                    <field name="sendordernum"/>
					<field name="payman" groups="tms.group_tms_fee_finance"/>
                    <field name="amount" sum="Account" groups="tms.group_tms_fee_finance"/>
                    <field name="accountamount" sum="Account Amount" />
					<field name="oanum"/>
					<field name="state"/>
                </tree>
            </field>
        </record>
        <record model="ir.ui.view" id="view_tms_feeforsend_form">
            <field name="name">tms.feeforsend.form</field>
            <field name="model">tms.feeforsend</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="FeeForSend Manager" version="7.0">
                    <sheet string="Fee">
                        <group col="4" string="Base Info">
							<field name="store_id" context="{'display_widget':'dropdownlist'}" on_change="on_change_store(store_id)"/>
                            <field name="province"/>
                            <field name="storenum"/>
                            <field name="feedate"/>
                            <field name="accountperiod"/>
                            <field name="applyprocessid"/>
                            <field name="payman" colspan="4" groups="tms.group_tms_fee_finance"/>
							<field name="sendproduct"/>
							<field name="sendcompany"/>
							<field name="sendordernum"/>
						</group>
						<group col="4" string="Amount">
                            <field name="amount" groups="tms.group_tms_fee_finance"/>
                            <field name="accountamount"/>
                        </group>
                        <group col="4" string="Remark">
                            <field name="remark" colspan="4"  nolabel="1" />
                        </group>
                    </sheet>
                </form>
            </field>
        </record>

        <!-- feebase info start -->
		<record model="ir.ui.view" id="view_tms_feeforproduct_filter">
			<field name="name">tms.feeforproduct.filter</field>
			<field name="model">tms.feeforproduct</field>
			<field name="arch" type="xml">
				<search string="Search FeeForProduct">
					<field name="store_id"/>
					<field name="province"/>
					<field name="storenum"/>
					<field name="oanum"/>
					<group expand="0" string="Filter">
						<filter name="draft" string="Draft" domain="[('state','=','draft')]"/>
						<filter name="hasexported" string="Has Exported" domain="[('state','=','hasexported')]"/>
						<filter name="hasoa" string="Has Input OANum" domain="[('state','=','hasoa')]"/>
						<filter name="hasback" string="Has Back" domain="[('state','=','hasback')]"/>
					</group>
					<group expand="0" string="Group By...">
						<filter name="groupby_province" string="Province" domain="[]" context="{'group_by':'province'}"/>
						<filter name="groupby_state" string="State" domain="[]" context="{'group_by':'state'}"/>
						<filter name="groupby_oanum" string="OANum" domain="[]" context="{'group_by':'oanum'}"/>
					</group>
				</search>	
			</field>
		</record>
        <record model="ir.ui.view" id="view_tms_feeforproduct_tree">
            <field name="name">tms.feeforproduct.tree</field>
            <field name="model">tms.feeforproduct</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="FeeForProduct Manager">
                    <field name="processid"/>
                    <field name="applyprocessid"/>
					<field name="feedate"/>
					<field name="accountperiod"/>
                    <field name="province" width="50"/>
                    <field name="store_id" />
                    <field name="storenum"/>
					<field name="productname" width="30"/>
					<field name="productprice" groups="tms.group_tms_fee_finance"/>
					<field name="productcount" groups="tms.group_tms_fee_finance" />
					<field name="accountproductprice" groups="tms.group_tms_fee_accout"/>
					<field name="accountproductcount" groups="tms.group_tms_fee_accout"/>
					<field name="payman" groups="tms.group_tms_fee_finance"/>
                    <field name="amount" sum="Amount" groups="tms.group_tms_fee_finance"/>
                    <field name="accountamount" sum="Account Amount"/>
					<field name="oanum"/>
					<field name="state"/>
                </tree>
            </field>
        </record>
        <record model="ir.ui.view" id="view_tms_feeforproduct_form">
            <field name="name">tms.feeforproduct.form</field>
            <field name="model">tms.feeforproduct</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="FeeForProduct Manager" version="7.0">
                    <sheet>
						<group col="4" string="Base Info">
							<field name="store_id" context="{'display_widget':'dropdownlist'}" on_change="on_change_store(store_id)"/>
							<field name="province"/>
                            <field name="storenum" readonly="True"/>
                            <field name="feedate"/>
							<field name="accountperiod"/>
							<field name="applyprocessid"/>
							<field name="payman" colspan="4" groups="tms.group_tms_fee_finance"/>
							<field name="productname"/>
							<field name="producttype"/>
						</group>
						<group col="4" string="Amount">
							<field name="productprice" groups="tms.group_tms_fee_finance" on_change="on_change_productaccount(productcount,productprice)"/>
							<field name="productcount" groups="tms.group_tms_fee_finance" on_change="on_change_productaccount(productcount,productprice)"/>
                            <field name="amount" groups="tms.group_tms_fee_finance"/>
							<field name="accountproductprice" groups="tms.group_tms_fee_finance"  on_change="on_change_accountproductaccount(accountproductcount,accountproductprice)" />
							<field name="accountproductcount" groups="tms.group_tms_fee_finance" on_change="on_change_accountproductaccount(accountproductcount,accountproductprice)" />
                            <field name="accountamount"/>
                        </group>
                        <group col="4" string="Remark">
                            <field name="remark" colspan="4"  nolabel="1" />
                        </group>
                    </sheet>
                </form>
            </field>
        </record>
		
		<record model="ir.ui.view" id="view_tms_feeforproductit_filter">
			<field name="name">tms.feeforproductit.filter</field>
			<field name="model">tms.feeforproductit</field>
			<field name="arch" type="xml">
				<search string="Search FeeForProductIT">
					<field name="store_id"/>
					<field name="province"/>
					<field name="storenum"/>
					<group expand="0" string="Filter">
						<filter name="draft" string="Draft" domain="[('state','=','draft')]"/>
						<filter name="hasback" string="Has Back" domain="[('state','=','hasback')]"/>
					</group>
					<group expand="0" string="Group By...">
						<filter name="groupby_province" string="Province" domain="[]" context="{'group_by':'province'}"/>
						<filter name="groupby_state" string="State" domain="[]" context="{'group_by':'state'}"/>
					</group>
				</search>	
			</field>
		</record>
		<record model="ir.ui.view" id="view_tms_feeforproductit_tree">
            <field name="name">tms.feeforproductit.tree</field>
            <field name="model">tms.feeforproductit</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="FeeForProductIT Manager">
                    <field name="processid"/>
                    <field name="feedate"/>
                    <field name="province"/>
                    <field name="store_id" />
                    <field name="storenum"/>
					<field name="productname"/>
					<field name="producttype"/>
                    <field name="amount" sum="Amount" groups="tms.group_tms_fee_finance"/>
                    <field name="accountamount" sum="Account Amount"/>
					<field name="state"/>
                    <field name="payman" groups="tms.group_tms_fee_finance"/>
                </tree>
            </field>
        </record>
        <record model="ir.ui.view" id="view_tms_feeforproductit_form">
            <field name="name">tms.feeforproductit.form</field>
            <field name="model">tms.feeforproductit</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="FeeForProductIT Manager" version="7.0">
                    <sheet>
						<!--<group col="4">
							<field name="store_id"/>
						</group>-->
						<group col="4" string="Base Info">
							<field name="store_id" context="{'display_widget':'dropdownlist'}" on_change="on_change_store(store_id)"/>
							<field name="province"/>
                            <field name="storenum" readonly="True"/>
                            <field name="feedate"/>
                            <field name="accountperiod" colspan="4"/>
                            <field name="payman" colspan="4" groups="tms.group_tms_fee_finance"/>
							<field name="productname"/>
							<field name="producttype"/>
						</group>
						<group col="4" string="Amount">
							<field name="productprice" groups="tms.group_tms_fee_finance" on_change="on_change_productaccount(productcount,productprice)"/>
							<field name="productcount" groups="tms.group_tms_fee_finance" on_change="on_change_productaccount(productcount,productprice)"/>
                            <field name="amount" groups="tms.group_tms_fee_finance"/>
							<field name="accountproductprice"  on_change="on_change_accountproductaccount(accountproductcount,accountproductprice)" />
							<field name="accountproductcount" on_change="on_change_accountproductaccount(accountproductcount,accountproductprice)" />
                            <field name="accountamount"/>
							<field name="state" colspan="4"/>
                        </group>
                        <group col="4" string="Purpose">
                            <field name="remark" colspan="4"  nolabel="1" />
                        </group>
                    </sheet>
                </form>
            </field>
        </record>

		<!-- the dropdown menuitems in more menu  start-->
		<!-- 导出对账 -->
		<record id="action_tms_export_fee_to_account" model="ir.actions.server">
            <field name="name">Export To Account</field>
            <field name="type">ir.actions.server</field>
            <field name="model_id" ref="model_tms_feebase"/>
            <field name="state">code</field>
            <field name="code">self.export_to_account(cr, uid,context.get('active_ids'), context=context)</field>
        </record>
        
        <record id="val_action_tms_export_fee_to_account" model="ir.values">
            <field name="name">Export to Account</field>
            <field name="action_id" ref="action_tms_export_fee_to_account"/>
            <field name="value" eval="'ir.actions.server,' + str(ref('action_tms_export_fee_to_account'))"/>
            <field name="key">action</field>
            <field name="model_id" ref="model_tms_feebase"/>
            <field name="model">tms.feebase</field>
            <field name="key2">client_action_multi</field>
			<field name="groups">tms.group_tms_fee_finance</field>
        </record>
        <record id="val_action_tms_export_feeforother_to_account" model="ir.values">
            <field name="name">Export to Account</field>
            <field name="action_id" ref="action_tms_export_fee_to_account"/>
            <field name="value" eval="'ir.actions.server,' + str(ref('action_tms_export_fee_to_account'))"/>
            <field name="key">action</field>
            <field name="model_id" ref="model_tms_feeforother"/>
            <field name="model">tms.feeforother</field>
            <field name="key2">client_action_multi</field>
        </record>
        <record id="val_action_tms_export_feeforproduct_to_account" model="ir.values">
            <field name="name">Export to Account</field>
            <field name="action_id" ref="action_tms_export_fee_to_account"/>
            <field name="value" eval="'ir.actions.server,' + str(ref('action_tms_export_fee_to_account'))"/>
            <field name="key">action</field>
            <field name="model_id" ref="model_tms_feeforproduct"/>
            <field name="model">tms.feeforproduct</field>
            <field name="key2">client_action_multi</field>
        </record>
        <record id="val_action_tms_export_feeforproductit_to_account" model="ir.values">
            <field name="name">Export to Account</field>
            <field name="action_id" ref="action_tms_export_fee_to_account"/>
            <field name="value" eval="'ir.actions.server,' + str(ref('action_tms_export_fee_to_account'))"/>
            <field name="key">action</field>
            <field name="model_id" ref="model_tms_feeforproductit"/>
            <field name="model">tms.feeforproductit</field>
            <field name="key2">client_action_multi</field>
        </record>
        <record id="val_action_tms_export_feeforsend_to_account" model="ir.values">
            <field name="name">Export to Account</field>
            <field name="action_id" ref="action_tms_export_fee_to_account"/>
            <field name="value" eval="'ir.actions.server,' + str(ref('action_tms_export_fee_to_account'))"/>
            <field name="key">action</field>
            <field name="model_id" ref="model_tms_feeforsend"/>
            <field name="model">tms.feeforsend</field>
            <field name="key2">client_action_multi</field>
        </record>

		<!-- 已经回款 -->
		<record id="action_tms_set_hasback" model="ir.actions.server">
            <field name="name">Set Has Back</field>
            <field name="type">ir.actions.server</field>
            <field name="model_id" ref="model_tms_feebase"/>
            <field name="state">code</field>
            <field name="code">self.set_to_hasback(cr, uid,context.get('active_ids'), context=context)</field>
        </record>
        
        <record id="val_action_tms_set_hasback" model="ir.values">
            <field name="name">Set Hasback</field>
            <field name="action_id" ref="action_tms_set_hasback"/>
            <field name="value" eval="'ir.actions.server,' + str(ref('action_tms_set_hasback'))"/>
            <field name="key">action</field>
            <field name="model_id" ref="model_tms_feebase"/>
            <field name="model">tms.feebase</field>
            <field name="key2">client_action_multi</field>
        </record>
        <record id="val_action_tms_feeforother_set_hasback" model="ir.values">
            <field name="name">Set Hasback</field>
            <field name="action_id" ref="action_tms_set_hasback"/>
            <field name="value" eval="'ir.actions.server,' + str(ref('action_tms_set_hasback'))"/>
            <field name="key">action</field>
            <field name="model_id" ref="model_tms_feeforother"/>
            <field name="model">tms.feeforother</field>
            <field name="key2">client_action_multi</field>
        </record>
        <record id="val_action_tms_feeforproduct_set_hasback" model="ir.values">
            <field name="name">Set Hasback</field>
            <field name="action_id" ref="action_tms_set_hasback"/>
            <field name="value" eval="'ir.actions.server,' + str(ref('action_tms_set_hasback'))"/>
            <field name="key">action</field>
            <field name="model_id" ref="model_tms_feeforproduct"/>
            <field name="model">tms.feeforproduct</field>
            <field name="key2">client_action_multi</field>
        </record>
        <record id="val_action_tms_feeforproductit_set_hasback" model="ir.values">
            <field name="name">Set Hasback</field>
            <field name="action_id" ref="action_tms_set_hasback"/>
            <field name="value" eval="'ir.actions.server,' + str(ref('action_tms_set_hasback'))"/>
            <field name="key">action</field>
            <field name="model_id" ref="model_tms_feeforproductit"/>
            <field name="model">tms.feeforproductit</field>
            <field name="key2">client_action_multi</field>
        </record>
        <record id="val_action_tms_feeforsend_set_hasback" model="ir.values">
            <field name="name">Set Hasback</field>
            <field name="action_id" ref="action_tms_set_hasback"/>
            <field name="value" eval="'ir.actions.server,' + str(ref('action_tms_set_hasback'))"/>
            <field name="key">action</field>
            <field name="model_id" ref="model_tms_feeforsend"/>
            <field name="model">tms.feeforsend</field>
            <field name="key2">client_action_multi</field>
        </record>
		<!-- the dropdown menuitems in more menu  start-->

        <!-- feebase info end -->
        <!-- 管理员申报动作 -->
        <record model="ir.actions.act_window" id="action_tms_applyinfo_tree_show">
            <field name="name">All Applyinfos</field>
            <field name="res_model">tms.applyinfo</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
        </record>

        <record model="ir.actions.act_window" id="action_tms_unreceived_applyinfo_tree_show">
            <field name="name">Unreceived Applyinfos</field>
            <field name="res_model">tms.applyinfo</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('state','=','unreceived')]</field>
        </record>

        <record model="ir.actions.act_window" id="action_tms_hasreceived_applyinfo_tree_show">
            <field name="name">HasReceived Applyinfos</field>
            <field name="res_model">tms.applyinfo</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('state','=','hasreceived')]</field>
        </record>

        <record model="ir.actions.act_window" id="action_tms_hasdone_applyinfo_tree_show">
            <field name="name">HasDone Applyinfos</field>
            <field name="res_model">tms.applyinfo</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('state','=','hasdone')]</field>
        </record>

        <record model="ir.actions.act_window" id="action_tms_hasconfirm_applyinfo_tree_show">
            <field name="name">HasConfirm Applyinfos</field>
            <field name="res_model">tms.applyinfo</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('state','=','hasconfirm')]</field>
        </record>
        <!-- 管理员申报动作结束 -->

        <!-- 厂商申报动作 -->
        <record model="ir.actions.act_window" id="action_tms_myapplyinfo_tree_show">
            <field name="name">All Applyinfos</field>
            <field name="res_model">tms.applyinfo</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
        </record>

        <record model="ir.actions.act_window" id="action_tms_myunreceived_applyinfo_tree_show">
            <field name="name">Unreceived Applyinfos</field>
            <field name="res_model">tms.applyinfo</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('state','=','unreceived')]</field>
        </record>

        <record model="ir.actions.act_window" id="action_tms_myhasreceived_applyinfo_tree_show">
            <field name="name">HasReceived Applyinfos</field>
            <field name="res_model">tms.applyinfo</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('state','=','hasreceived')]</field>
        </record>

        <record model="ir.actions.act_window" id="action_tms_myhasdone_applyinfo_tree_show">
            <field name="name">HasDone Applyinfos</field>
            <field name="res_model">tms.applyinfo</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('state','=','hasdone')]</field>
        </record>

        <record model="ir.actions.act_window" id="action_tms_myhasconfirm_applyinfo_tree_show">
            <field name="name">HasConfirm Applyinfos</field>
            <field name="res_model">tms.applyinfo</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('state','=','hasconfirm')]</field>
        </record>
        <!-- 厂商申报动作结束 -->
		<!-- 停电和断网申报开始 -->
		<record model="ir.actions.act_window" id="action_tms_moveandstopapplyinfo_tree_show">
            <field name="name">Stop And Move Applyinfo</field>
            <field name="res_model">tms.stopandmoveapplyinfo</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
		</record>
		<!-- 停电和断网申报结束 -->

        <!-- 财务中心动作 -->
        <record model="ir.actions.act_window" id="action_tms_feeforother_tree_show">
            <field name="name">FeeForOther Manager</field>
            <field name="res_model">tms.feeforother</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>            
            <field name="domain">[('state','not in',('',))]</field>
        </record>
        <record model="ir.actions.act_window" id="action_tms_feeforitservice_tree_show">
            <field name="name">FeeForItService Manager</field>
            <field name="res_model">tms.feeforitservice</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>            
            <field name="domain">[('state','not in',('',))]</field>
        </record>
        <record model="ir.actions.act_window" id="action_tms_feebase_tree_show">
            <field name="name">FeeBase Manager</field>
            <field name="res_model">tms.feebase</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>            
            <field name="domain">[('state','not in',('',))]</field>
        </record>
        <record model="ir.actions.act_window" id="action_tms_feeforsend_tree_show">
            <field name="name">FeeForSend Manager</field>
            <field name="res_model">tms.feeforsend</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>            
            <field name="domain">[('state','not in',('',))]</field>
			<field name="search_view_id" ref="view_tms_feeforsend_filter"/>
            <field name="context">{"search_default_draft":True}</field>
        </record>
        <record model="ir.actions.act_window" id="action_tms_feeforproduct_tree_show">
            <field name="name">FeeForProduct Manager</field>
            <field name="res_model">tms.feeforproduct</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>            
            <field name="domain">[('state','not in',('',))]</field>
			<field name="search_view_id" ref="view_tms_feeforproduct_filter"/>
            <field name="context">{"search_default_draft":True}</field>
        </record>
        <record model="ir.actions.act_window" id="action_tms_feeforproductit_tree_show">
            <field name="name">FeeForProductIT Manager</field>
            <field name="res_model">tms.feeforproductit</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>            
			<!--<field name="domain">[('state','not in',('',))]</field>-->
        </record>
        <!-- 财务中心动作结束 -->

        <!-- 对账中心动作 -->
        <record model="ir.actions.act_window" id="action_tms_feeforother_account_tree_show">
            <field name="name">FeeForOther Account</field>
            <field name="res_model">tms.feeforother</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>            
            <field name="domain">[('state','not in',('draft',))]</field>
        </record>
        <record model="ir.actions.act_window" id="action_tms_feeforitservice_account_tree_show">
            <field name="name">FeeForItService Account</field>
            <field name="res_model">tms.feeforitservice</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>            
            <field name="domain">[('state','not in',('draft',))]</field>
        </record>
        <record model="ir.actions.act_window" id="action_tms_feebase_account_tree_show">
            <field name="name">FeeBase Account</field>
            <field name="res_model">tms.feebase</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>            
            <field name="domain">[('state','not in',('draft',))]</field>
        </record>
        <record model="ir.actions.act_window" id="action_tms_feeforsend_account_tree_show">
            <field name="name">FeeForSend Account</field>
            <field name="res_model">tms.feeforsend</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>            
            <field name="domain">[('state','not in',('draft',))]</field>
            <field name="context">{"search_default_groupby_province":True,"search_default_hasexported":True}</field>
        </record>
        <record model="ir.actions.act_window" id="action_tms_feeforproduct_account_tree_show">
            <field name="name">FeeForProduct Account</field>
            <field name="res_model">tms.feeforproduct</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>            
            <field name="domain">[('state','not in',('draft',))]</field>
            <field name="context">{"search_default_groupby_province":True,"search_default_hasexported":True}</field>
        </record>
        <record model="ir.actions.act_window" id="action_tms_feeforproductit_account_tree_show">
            <field name="name">FeeForProductIT Account</field>
            <field name="res_model">tms.feeforproductit</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>            
            <field name="domain">[('state','not in',('draft',))]</field>
        </record>
        <!-- 对账中心动作结束 -->
        
        <menuitem id="menu_tms_root" name="TMS" />
        <menuitem id="menu_tms_manager" name="TMS" parent="menu_tms_root"/>
        
        <!-- 管理员申报菜单 -->
        <menuitem id="menu_tms_applyinfo_foradmin_manager_root" name="Admin Applyinfo Management" parent="menu_tms_root"/>
        <menuitem id="menu_tms_applyinfo_manager" parent="menu_tms_applyinfo_foradmin_manager_root" name="Admin Applyinfos" 
            action="action_tms_applyinfo_tree_show"/>
        <menuitem id="menu_tms_unreceived_applyinfo_manager" parent="menu_tms_applyinfo_foradmin_manager_root" name="UnReceived Applyinfos" action="action_tms_unreceived_applyinfo_tree_show"/>
        <menuitem id="menu_tms_hasreceived_applyinfo_manager" parent="menu_tms_applyinfo_foradmin_manager_root" name="HasReceived Applyinfos" action="action_tms_hasreceived_applyinfo_tree_show"/>
        <menuitem id="menu_tms_hasdone_applyinfo_manager" parent="menu_tms_applyinfo_foradmin_manager_root" name="HasDone Applyinfos" action="action_tms_hasdone_applyinfo_tree_show"/>
        <menuitem id="menu_tms_hasconfirm_applyinfo_manager" parent="menu_tms_applyinfo_foradmin_manager_root" name="HasConfirm Applyinfos" action="action_tms_hasconfirm_applyinfo_tree_show"/>
        <!-- 管理员申报菜单结束 -->

        <!-- 厂商申报菜单 -->
        <menuitem id="menu_tms_myapplyinfo_foradmin_manager_root" name="Factory Applyinfo Management" parent="menu_tms_root"/>
        <menuitem id="menu_tms_myapplyinfo_manager" parent="menu_tms_myapplyinfo_foradmin_manager_root" name="My Applyinfos" 
            action="action_tms_myapplyinfo_tree_show"/>
        <menuitem id="menu_tms_myunreceived_applyinfo_manager" parent="menu_tms_myapplyinfo_foradmin_manager_root" name="UnReceived Applyinfos" action="action_tms_myunreceived_applyinfo_tree_show"/>
        <menuitem id="menu_tms_myhasreceived_applyinfo_manager" parent="menu_tms_myapplyinfo_foradmin_manager_root" name="HasReceived Applyinfos" action="action_tms_myhasreceived_applyinfo_tree_show"/>
        <menuitem id="menu_tms_myhasdone_applyinfo_manager" parent="menu_tms_myapplyinfo_foradmin_manager_root" name="HasDone Applyinfos" action="action_tms_myhasdone_applyinfo_tree_show"/>
        <menuitem id="menu_tms_myhasconfirm_applyinfo_manager" parent="menu_tms_myapplyinfo_foradmin_manager_root" name="HasConfirm Applyinfos" action="action_tms_myhasconfirm_applyinfo_tree_show"/>
        <!-- 厂商申报菜单结束 -->

        <!-- 门店管理 -->
        <menuitem id="menu_tms_store_manager_root" name="Stores Management" parent="menu_tms_root"/>
        <menuitem id="menu_tms_store_manager" parent="menu_tms_store_manager_root" name="Store Manager" action="action_tms_store_tree_show"/>
        <!-- 门店管理结束 -->

        <!-- 账务中心 -->
        <menuitem id="menu_tms_finance_center_manager" name="Finance Center" parent="menu_tms_root"/>
        <menuitem id="menu_tms_feeforother_manager" parent="menu_tms_finance_center_manager" name="FeeForOther Manager" action="action_tms_feeforother_tree_show"/>
        <menuitem id="menu_tms_feebase_manager" parent="menu_tms_finance_center_manager" name="FeeBase Manager" action="action_tms_feebase_tree_show"/>
        <!--<menuitem id="menu_tms_feeforitservice_manager" parent="menu_tms_finance_center_manager" name="FeeForItService Account" action="action_tms_feeforitservice_tree_show"/>-->
        <menuitem id="menu_tms_feeforsend_manager" parent="menu_tms_finance_center_manager" name="FeeForSend Manager" action="action_tms_feeforsend_tree_show"/>
        <menuitem id="menu_tms_feeforproduct_manager" parent="menu_tms_finance_center_manager" name="FeeForProduct Manager" action="action_tms_feeforproduct_tree_show"/>
        <menuitem id="menu_tms_feeforproductit_manager" parent="menu_tms_finance_center_manager" name="FeeForProductIt Manager" action="action_tms_feeforproductit_tree_show"/>
        <!-- 账务中心结束 -->

        <!-- 对账中心 -->
        <menuitem id="menu_tms_account_center_manager" name="Account Center" parent="menu_tms_root"/>
        <menuitem id="menu_tms_feeforother_account_manager" parent="menu_tms_account_center_manager" name="FeeForOther Account" action="action_tms_feeforother_account_tree_show"/>
        <menuitem id="menu_tms_feebase_account_manager" parent="menu_tms_account_center_manager" name="FeeBase Account" action="action_tms_feebase_account_tree_show"/>
        <!-- <menuitem id="menu_tms_feeforitservice_manager" parent="menu_tms_account_center_manager" name="IT服务费登记" action="action_tms_feeforitservice_tree_show"/>-->
        <menuitem id="menu_tms_feeforsend_account_manager" parent="menu_tms_account_center_manager" name="FeeForSend Account" action="action_tms_feeforsend_account_tree_show"/>
        <menuitem id="menu_tms_feeforproduct_account_manager" parent="menu_tms_account_center_manager" name="FeeForProduct Account" action="action_tms_feeforproduct_account_tree_show"/>
        <menuitem id="menu_tms_feeforproductit_account_manager" parent="menu_tms_account_center_manager" name="FeeForProductIt Account" action="action_tms_feeforproductit_account_tree_show"/>
        <!-- 对账中心结束 -->
    </data>
</openerp>
